FROM python:3.9-slim

# Install necessary dependencies
RUN apt-get update && apt-get install -y \
    file \
    binutils \
    && rm -rf /var/lib/apt/lists/*

# Create app directory
WORKDIR /app

# Create uploads directory
RUN mkdir -p /app/uploads

# Copy the scan script
COPY scan_file.sh /app/
RUN chmod +x /app/scan_file.sh

# Set the entrypoint
ENTRYPOINT ["/app/scan_file.sh"]